2024-09-03 16:55:21.759 +03:00 [INF] Executed action asp.netwebApiTask_8_24_2024_.Controllers._UsersController.LoginUser (asp.netwebApiTask(8-24-2024)) in 72339.8195ms
2024-09-03 16:55:21.801 +03:00 [INF] Executed endpoint 'asp.netwebApiTask_8_24_2024_.Controllers._UsersController.LoginUser (asp.netwebApiTask(8-24-2024))'
2024-09-03 16:55:21.810 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7216/api/_Users/LoginUser - multipart/form-data; boundary=----WebKitFormBoundaryhhj5UdGvjzKNp039 345
2024-09-03 16:55:21.810 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7216/api/_Users/name/any - null null
2024-09-03 16:55:21.812 +03:00 [INF] CORS policy execution successful.
2024-09-03 16:55:21.813 +03:00 [INF] CORS policy execution successful.
2024-09-03 16:55:21.814 +03:00 [INF] Executing endpoint 'asp.netwebApiTask_8_24_2024_.Controllers._UsersController.LoginUser (asp.netwebApiTask(8-24-2024))'
2024-09-03 16:55:21.814 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'key')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Cryptography.HMACSHA512..ctor(Byte[] key)
   at asp.netwebApiTask_8_24_2024_.DTOs.HashingAlgoratim.VerifyPasswordHash(String password, Byte[] storedHash, Byte[] storedSalt) in C:\Users\Orange\Desktop\asp.netwebApiTask(8-24-2024)\asp.netwebApiTask(8-24-2024)\DTOs\HashingAlgoratim.cs:line 16
   at asp.netwebApiTask_8_24_2024_.Controllers._UsersController.LoginUser(UserReqestDTO User) in C:\Users\Orange\Desktop\asp.netwebApiTask(8-24-2024)\asp.netwebApiTask(8-24-2024)\Controllers\(UsersController.cs:line 135
   at lambda_method3(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-03 16:55:21.814 +03:00 [INF] Executing endpoint 'asp.netwebApiTask_8_24_2024_.Controllers._UsersController.GetUserByName (asp.netwebApiTask(8-24-2024))'
2024-09-03 16:55:21.814 +03:00 [INF] Route matched with {action = "LoginUser", controller = "_Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult LoginUser(asp.netwebApiTask_8_24_2024_.DTOs.UserReqestDTO) on controller asp.netwebApiTask_8_24_2024_.Controllers._UsersController (asp.netwebApiTask(8-24-2024)).
2024-09-03 16:55:21.927 +03:00 [INF] Route matched with {action = "GetUserByName", controller = "_Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUserByName(System.String) on controller asp.netwebApiTask_8_24_2024_.Controllers._UsersController (asp.netwebApiTask(8-24-2024)).
2024-09-03 16:55:23.365 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7216/api/_Users/LoginUser - 500 null text/plain; charset=utf-8 73960.8754ms
2024-09-03 16:55:23.366 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__User_Email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[Password], [u].[PasswordHash], [u].[PasswordSalt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__User_Email_0
2024-09-03 16:55:23.369 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[Password], [u].[PasswordHash], [u].[PasswordSalt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__name_0
2024-09-03 16:55:23.372 +03:00 [INF] Executing OkObjectResult, writing value of type 'asp.netwebApiTask_8_24_2024_.Models.User'.
2024-09-03 16:55:23.374 +03:00 [INF] Executed action asp.netwebApiTask_8_24_2024_.Controllers._UsersController.GetUserByName (asp.netwebApiTask(8-24-2024)) in 1445.0112ms
2024-09-03 16:55:23.375 +03:00 [INF] Executed endpoint 'asp.netwebApiTask_8_24_2024_.Controllers._UsersController.GetUserByName (asp.netwebApiTask(8-24-2024))'
2024-09-03 16:55:23.376 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7216/api/_Users/name/any - 200 null application/json; charset=utf-8 1565.7708ms
2024-09-03 16:55:23.385 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role]
FROM [UserRoles] AS [u]
WHERE [u].[UserID] = @__user_UserId_0
2024-09-03 16:55:23.416 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-03 16:55:23.422 +03:00 [INF] Executed action asp.netwebApiTask_8_24_2024_.Controllers._UsersController.LoginUser (asp.netwebApiTask(8-24-2024)) in 1494.1832ms
2024-09-03 16:55:23.423 +03:00 [INF] Executed endpoint 'asp.netwebApiTask_8_24_2024_.Controllers._UsersController.LoginUser (asp.netwebApiTask(8-24-2024))'
2024-09-03 16:55:23.423 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7216/api/_Users/LoginUser - 200 null application/json; charset=utf-8 1613.4179ms
2024-09-03 16:55:35.208 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7216/api/_Users/name/any - null null
2024-09-03 16:55:35.210 +03:00 [INF] CORS policy execution successful.
2024-09-03 16:55:35.210 +03:00 [INF] Executing endpoint 'asp.netwebApiTask_8_24_2024_.Controllers._UsersController.GetUserByName (asp.netwebApiTask(8-24-2024))'
2024-09-03 16:55:35.211 +03:00 [INF] Route matched with {action = "GetUserByName", controller = "_Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUserByName(System.String) on controller asp.netwebApiTask_8_24_2024_.Controllers._UsersController (asp.netwebApiTask(8-24-2024)).
2024-09-03 16:55:35.219 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__name_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[Password], [u].[PasswordHash], [u].[PasswordSalt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__name_0
2024-09-03 16:55:35.222 +03:00 [INF] Executing OkObjectResult, writing value of type 'asp.netwebApiTask_8_24_2024_.Models.User'.
2024-09-03 16:55:35.223 +03:00 [INF] Executed action asp.netwebApiTask_8_24_2024_.Controllers._UsersController.GetUserByName (asp.netwebApiTask(8-24-2024)) in 11.2437ms
2024-09-03 16:55:35.224 +03:00 [INF] Executed endpoint 'asp.netwebApiTask_8_24_2024_.Controllers._UsersController.GetUserByName (asp.netwebApiTask(8-24-2024))'
2024-09-03 16:55:35.225 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7216/api/_Users/name/any - 200 null application/json; charset=utf-8 16.8419ms
2024-09-03 16:55:47.833 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7216/api/_Users/LoginUser - multipart/form-data; boundary=----WebKitFormBoundaryCZrTqqoPYuwmN9yF 345
2024-09-03 16:55:47.834 +03:00 [INF] CORS policy execution successful.
2024-09-03 16:55:47.835 +03:00 [INF] Executing endpoint 'asp.netwebApiTask_8_24_2024_.Controllers._UsersController.LoginUser (asp.netwebApiTask(8-24-2024))'
2024-09-03 16:55:47.835 +03:00 [INF] Route matched with {action = "LoginUser", controller = "_Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult LoginUser(asp.netwebApiTask_8_24_2024_.DTOs.UserReqestDTO) on controller asp.netwebApiTask_8_24_2024_.Controllers._UsersController (asp.netwebApiTask(8-24-2024)).
2024-09-03 16:55:50.675 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__User_Email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Email], [u].[Password], [u].[PasswordHash], [u].[PasswordSalt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__User_Email_0
2024-09-03 16:55:51.580 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Role]
FROM [UserRoles] AS [u]
WHERE [u].[UserID] = @__user_UserId_0
2024-09-03 16:55:53.771 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-03 16:55:53.795 +03:00 [INF] Executed action asp.netwebApiTask_8_24_2024_.Controllers._UsersController.LoginUser (asp.netwebApiTask(8-24-2024)) in 5958.5361ms
2024-09-03 16:55:53.796 +03:00 [INF] Executed endpoint 'asp.netwebApiTask_8_24_2024_.Controllers._UsersController.LoginUser (asp.netwebApiTask(8-24-2024))'
2024-09-03 16:55:53.796 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7216/api/_Users/LoginUser - 200 null application/json; charset=utf-8 5963.5401ms
